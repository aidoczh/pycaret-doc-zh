# åœ¨Google Kubernetesä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿

### åœ¨Google Kubernetes Engineä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿

#### ä½œè€…ï¼šMoez Ali

![ä¸€æ­¥ä¸€æ­¥çš„åˆå­¦è€…æŒ‡å—ï¼šå¦‚ä½•åœ¨Google Kubernetes Engineä¸Šå®¹å™¨åŒ–å’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿](https://cdn-images-1.medium.com/max/2000/1\*P-JjI7MXq6UJV9Xab-B9qg.png)

### å¤ä¹ 

åœ¨æˆ‘ä»¬ä¸Šä¸€ç¯‡å…³äºåœ¨äº‘ç«¯éƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨PyCaretå¼€å‘æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–ï¼Œå¹¶ä½¿ç”¨Microsoft Azure Web App Servicesä½œä¸ºWebåº”ç”¨ç¨‹åºè¿›è¡ŒæœåŠ¡ã€‚å¦‚æœæ‚¨ä¹‹å‰æ²¡æœ‰å¬è¯´è¿‡PyCaretï¼Œè¯·é˜…è¯»è¿™ç¯‡[å…¬å‘Š](https://towardsdatascience.com/announcing-pycaret-an-open-source-low-code-machine-learning-library-in-python-4a1f1aad8d46)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¹‹å‰æ„å»ºå’Œéƒ¨ç½²çš„ç›¸åŒæœºå™¨å­¦ä¹ æµæ°´çº¿å’ŒFlaskåº”ç”¨ç¨‹åºã€‚è¿™æ¬¡æˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•åœ¨Google Kubernetes Engineä¸Šå®¹å™¨åŒ–å’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿ã€‚

### ğŸ‘‰ æœ¬æ•™ç¨‹çš„å­¦ä¹ ç›®æ ‡

* äº†è§£ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Œä»€ä¹ˆæ˜¯Dockerï¼Œä»€ä¹ˆæ˜¯Kubernetesï¼Œä»¥åŠä»€ä¹ˆæ˜¯Google Kubernetes Engineï¼Ÿ
* æ„å»ºDockeré•œåƒå¹¶å°†å…¶ä¸Šä¼ åˆ°Googleå®¹å™¨æ³¨å†Œè¡¨ï¼ˆGCRï¼‰ã€‚
* åˆ›å»ºé›†ç¾¤å¹¶éƒ¨ç½²ä¸€ä¸ªå¸¦æœ‰Flaskåº”ç”¨ç¨‹åºçš„æœºå™¨å­¦ä¹ æµæ°´çº¿ä½œä¸ºWebæœåŠ¡ã€‚
* æŸ¥çœ‹ä¸€ä¸ªä½¿ç”¨è®­ç»ƒå¥½çš„æœºå™¨å­¦ä¹ æµæ°´çº¿å®æ—¶é¢„æµ‹æ–°æ•°æ®ç‚¹çš„Webåº”ç”¨ç¨‹åºã€‚

ä¹‹å‰æˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•åœ¨Heroku PaaSä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨Dockerå®¹å™¨åœ¨Azure Web Servicesä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿ã€‚

æœ¬æ•™ç¨‹å°†æ¶µç›–ä»æ„å»ºDockeré•œåƒã€å°†å…¶ä¸Šä¼ åˆ°Googleå®¹å™¨æ³¨å†Œè¡¨ï¼Œç„¶åéƒ¨ç½²é¢„è®­ç»ƒçš„æœºå™¨å­¦ä¹ æµæ°´çº¿å’ŒFlaskåº”ç”¨ç¨‹åºåˆ°Google Kubernetes Engineï¼ˆGKEï¼‰çš„æ•´ä¸ªå·¥ä½œæµç¨‹ã€‚

### ğŸ’» æœ¬æ•™ç¨‹çš„å·¥å…·ç®±

### PyCaret

[PyCaret](https://www.pycaret.org/)æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ä½ä»£ç çš„Pythonæœºå™¨å­¦ä¹ åº“ï¼Œç”¨äºè®­ç»ƒå’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿å’Œæ¨¡å‹åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚å¯ä»¥ä½¿ç”¨pipè½»æ¾å®‰è£…PyCaretã€‚

```
pip install pycaret
```

### Flask

[Flask](https://flask.palletsprojects.com/en/1.1.x/)æ˜¯ä¸€ä¸ªå…è®¸æ‚¨æ„å»ºWebåº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚Webåº”ç”¨ç¨‹åºå¯ä»¥æ˜¯å•†ä¸šç½‘ç«™ã€åšå®¢ã€ç”µå­å•†åŠ¡ç³»ç»Ÿï¼Œæˆ–è€…æ˜¯ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å®æ—¶æä¾›æ•°æ®é¢„æµ‹çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨æ²¡æœ‰å®‰è£…Flaskï¼Œå¯ä»¥ä½¿ç”¨pipå®‰è£…å®ƒã€‚

### Google Cloud Platform

Google Cloud Platformï¼ˆGCPï¼‰æ˜¯ç”±Googleæä¾›çš„ä¸€å¥—äº‘è®¡ç®—æœåŠ¡ï¼Œè¿è¡Œåœ¨Googleç”¨äºå…¶ç»ˆç«¯ç”¨æˆ·äº§å“ï¼ˆå¦‚Googleæœç´¢ã€Gmailå’ŒYouTubeï¼‰çš„ç›¸åŒåŸºç¡€è®¾æ–½ä¸Šã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰GCPå¸æˆ·ï¼Œå¯ä»¥åœ¨[è¿™é‡Œ](https://console.cloud.google.com/getting-started)æ³¨å†Œã€‚å¦‚æœæ‚¨æ˜¯ç¬¬ä¸€æ¬¡æ³¨å†Œï¼Œæ‚¨å°†è·å¾—1å¹´çš„å…è´¹ä¿¡ç”¨é¢åº¦ã€‚

### è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

åœ¨æˆ‘ä»¬å¼€å§‹å­¦ä¹ Kubernetesä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯å®¹å™¨ä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å®ƒï¼Ÿ

![https://www.freepik.com/free-photos-vectors/cargo-ship](https://cdn-images-1.medium.com/max/2000/1\*SlzsvRhA71oFOhAjE1Hs0A.jpeg)

æ‚¨æ˜¯å¦æ›¾ç»é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼šæ‚¨çš„ä»£ç åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šè¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å½“æœ‹å‹å°è¯•è¿è¡Œå®Œå…¨ç›¸åŒçš„ä»£ç æ—¶ï¼Œå´æ— æ³•æ­£å¸¸å·¥ä½œï¼Ÿå¦‚æœæ‚¨çš„æœ‹å‹é‡å¤äº†å®Œå…¨ç›¸åŒçš„æ­¥éª¤ï¼Œä»–æˆ–å¥¹åº”è¯¥å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œå¯¹å—ï¼Ÿè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯**ç¯å¢ƒ**ã€‚æ‚¨æœ‹å‹çš„ç¯å¢ƒä¸æ‚¨çš„ç¯å¢ƒä¸åŒã€‚

ç¯å¢ƒåŒ…æ‹¬ä»€ä¹ˆï¼Ÿâ†’ ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Pythonï¼‰ä»¥åŠä½¿ç”¨è¯¥è¯­è¨€æ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„æ‰€æœ‰åº“å’Œä¾èµ–é¡¹çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚

å¦‚æœæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯ä»¥ä¼ è¾“åˆ°å…¶ä»–è®¡ç®—æœºä¸Šçš„ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼šæ‚¨æœ‹å‹çš„è®¡ç®—æœºæˆ–åƒGoogle Cloud Platformè¿™æ ·çš„äº‘æœåŠ¡æä¾›å•†ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é‡ç°ç»“æœã€‚å› æ­¤ï¼Œ**å®¹å™¨**æ˜¯ä¸€ç§è½¯ä»¶ç±»å‹ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä»¥ä¾¿åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä¸åŒçš„è®¡ç®—ç¯å¢ƒä¸­å¯é åœ°è¿è¡Œã€‚

> é‚£ä¹ˆDockeræ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

![](https://cdn-images-1.medium.com/max/2000/1\*EJx9QN4ENSPKZuz51rC39w.png)

Dockeræ˜¯ä¸€å®¶æä¾›è½¯ä»¶ï¼ˆä¹Ÿç§°ä¸ºDockerï¼‰çš„å…¬å¸ï¼Œå…è®¸ç”¨æˆ·æ„å»ºã€è¿è¡Œå’Œç®¡ç†å®¹å™¨ã€‚è™½ç„¶Dockerçš„å®¹å™¨æ˜¯æœ€å¸¸è§çš„ï¼Œä½†è¿˜æœ‰å…¶ä»–ä¸å¤ªçŸ¥åçš„**æ›¿ä»£å“**ï¼Œå¦‚[LXD](https://linuxcontainers.org/lxd/introduction/)å’Œ[LXC](https://linuxcontainers.org/)æä¾›å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚

ç°åœ¨æ‚¨äº†è§£äº†å®¹å™¨å’Œç‰¹åˆ«æ˜¯Dockerï¼Œè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹Kubernetesæ˜¯ä»€ä¹ˆã€‚
Kubernetes æ˜¯ç”± Google åœ¨ 2014 å¹´å¼€å‘çš„ä¸€æ¬¾å¼ºå¤§çš„å¼€æºç³»ç»Ÿï¼Œç”¨äºç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚ç®€å•æ¥è¯´ï¼ŒKubernetes æ˜¯ä¸€ä¸ªç”¨äºåœ¨æœºå™¨é›†ç¾¤ä¸Šè¿è¡Œå’Œåè°ƒå®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„ç³»ç»Ÿã€‚å®ƒæ˜¯ä¸€ä¸ªæ—¨åœ¨å®Œå…¨ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„å¹³å°ã€‚

![Photo by chuttersnap on Unsplash](https://cdn-images-1.medium.com/max/23216/0*2ZayMwt1Un8-9ZFA)

### ç‰¹ç‚¹

âœ”ï¸ **è´Ÿè½½å‡è¡¡ï¼š** è‡ªåŠ¨åœ¨å®¹å™¨ä¹‹é—´åˆ†é…è´Ÿè½½ã€‚

âœ”ï¸ **æ‰©å±•ï¼š** å½“éœ€æ±‚å‘ç”Ÿå˜åŒ–ï¼Œä¾‹å¦‚é«˜å³°æ—¶æ®µã€å‘¨æœ«å’Œå‡æœŸï¼Œé€šè¿‡å¢åŠ æˆ–å‡å°‘å®¹å™¨æ¥è‡ªåŠ¨æ‰©å±•ã€‚

âœ”ï¸ **å­˜å‚¨ï¼š** ä¿æŒå¤šä¸ªåº”ç”¨ç¨‹åºå®ä¾‹çš„å­˜å‚¨ä¸€è‡´ã€‚

âœ”ï¸ **è‡ªæ„ˆï¼š** è‡ªåŠ¨é‡æ–°å¯åŠ¨å¤±è´¥çš„å®¹å™¨ï¼Œå¹¶ç»ˆæ­¢ä¸å“åº”ç”¨æˆ·å®šä¹‰å¥åº·æ£€æŸ¥çš„å®¹å™¨ã€‚

âœ”ï¸ **è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼š** æ‚¨å¯ä»¥è‡ªåŠ¨åŒ– Kubernetes æ¥ä¸ºæ‚¨çš„éƒ¨ç½²åˆ›å»ºæ–°å®¹å™¨ï¼Œåˆ é™¤ç°æœ‰å®¹å™¨ï¼Œå¹¶å°†å®ƒä»¬çš„æ‰€æœ‰èµ„æºè½¬ç§»åˆ°æ–°å®¹å™¨ã€‚

### å¦‚æœå·²ç»ä½¿ç”¨ Dockerï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ Kubernetesï¼Ÿ

æƒ³è±¡ä¸€ä¸‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæ‚¨éœ€è¦åœ¨å¤šå°æœºå™¨ä¸Šè¿è¡Œå¤šä¸ª Docker å®¹å™¨ï¼Œä»¥æ”¯æŒä¸€ä¸ªä¼ä¸šçº§çš„æœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºï¼Œåœ¨ç™½å¤©å’Œé»‘å¤œæœ‰ä¸åŒçš„å·¥ä½œè´Ÿè½½ã€‚å°½ç®¡å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ‰‹åŠ¨å®Œæˆè¿™é¡¹å·¥ä½œæ˜¯ä¸€é¡¹ç¹é‡çš„ä»»åŠ¡ã€‚

æ‚¨éœ€è¦åœ¨æ­£ç¡®çš„æ—¶é—´å¯åŠ¨æ­£ç¡®çš„å®¹å™¨ï¼Œæ‰¾å‡ºå®ƒä»¬å¦‚ä½•ç›¸äº’é€šä¿¡ï¼Œå¤„ç†å­˜å‚¨è€ƒè™‘äº‹é¡¹ï¼Œå¹¶å¤„ç†å¤±è´¥çš„å®¹å™¨æˆ–ç¡¬ä»¶ã€‚Kubernetes è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå…è®¸å¤§é‡å®¹å™¨å’Œè°åœ°ååŒå·¥ä½œï¼Œå‡è½»äº†è¿ç»´è´Ÿæ‹…ã€‚

> ## å°† **Docker ä¸ Kubernetes è¿›è¡Œæ¯”è¾ƒæ˜¯é”™è¯¯çš„ã€‚** è¿™æ˜¯ä¸¤ç§ä¸åŒçš„æŠ€æœ¯ã€‚Docker æ˜¯ä¸€ç§è½¯ä»¶ï¼Œå…è®¸æ‚¨å°†åº”ç”¨ç¨‹åºå®¹å™¨åŒ–ï¼Œè€Œ Kubernetes æ˜¯ä¸€ä¸ªå®¹å™¨ç®¡ç†ç³»ç»Ÿï¼Œå…è®¸åˆ›å»ºã€æ‰©å±•å’Œç›‘æ§æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå®¹å™¨ã€‚

åœ¨ä»»ä½•åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒDocker ç”¨äºåœ¨éƒ¨ç½²æ—¶æ‰“åŒ…åº”ç”¨ç¨‹åºï¼Œè€Œ Kubernetes ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„å…¶ä½™ç”Ÿå‘½å‘¨æœŸã€‚

![é€šè¿‡ Kubernetes / Docker éƒ¨ç½²çš„åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸ](https://cdn-images-1.medium.com/max/3200/1*dBJjxZrfdMppXhdwjZLX6w.png)

### ä»€ä¹ˆæ˜¯ Google Kubernetes Engineï¼Ÿ

Google Kubernetes Engine æ˜¯åœ¨ Google Cloud Platform ä¸Šå®ç° _Google çš„å¼€æº Kubernetes_ çš„ç³»ç»Ÿã€‚ç®€å•æ˜äº†ï¼

GKE çš„å…¶ä»–çƒ­é—¨æ›¿ä»£æ–¹æ¡ˆåŒ…æ‹¬ [Amazon ECS](https://aws.amazon.com/ecs/) å’Œ [Microsoft Azure Kubernetes Service](https://azure.microsoft.com/en-us/services/kubernetes-service/)ã€‚

### æœ€åä¸€æ¬¡ï¼Œæ‚¨æ˜¯å¦ç†è§£äº†è¿™äº›å†…å®¹ï¼Ÿ

* **å®¹å™¨** æ˜¯ä¸€ç§è½¯ä»¶ç±»å‹ï¼Œå°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹æ‰“åŒ…ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨ä¸€ä¸ªè®¡ç®—ç¯å¢ƒä¸­å¯é åœ°è¿è¡Œåˆ°å¦ä¸€ä¸ªè®¡ç®—ç¯å¢ƒã€‚
* **Docker** æ˜¯ç”¨äºæ„å»ºå’Œç®¡ç†å®¹å™¨çš„è½¯ä»¶ã€‚
* **Kubernetes** æ˜¯ä¸€ä¸ªç”¨äºåœ¨é›†ç¾¤ç¯å¢ƒä¸­ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¼€æºç³»ç»Ÿã€‚
* **Google Kubernetes Engine** æ˜¯åœ¨ Google Cloud Platform ä¸Šå®ç°å¼€æº Kubernetes æ¡†æ¶çš„ç³»ç»Ÿã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Google Kubernetes Engineã€‚ä¸ºäº†è·Ÿéšæ“ä½œï¼Œè¯·ç¡®ä¿æ‚¨æ‹¥æœ‰ Google Cloud Platform è´¦æˆ·ã€‚[ç‚¹å‡»è¿™é‡Œ](https://console.cloud.google.com/getting-started) å…è´¹æ³¨å†Œè´¦æˆ·ã€‚

### è®¾å®šä¸šåŠ¡èƒŒæ™¯

ä¸€å®¶ä¿é™©å…¬å¸å¸Œæœ›é€šè¿‡åœ¨æ‚£è€…å…¥é™¢æ—¶ä½¿ç”¨äººå£ç»Ÿè®¡å’ŒåŸºæœ¬æ‚£è€…å¥åº·é£é™©æŒ‡æ ‡æ›´å¥½åœ°é¢„æµ‹æ‚£è€…è´¹ç”¨ï¼Œä»è€Œæ”¹è¿›ç°é‡‘æµé¢„æµ‹ã€‚

![](https://cdn-images-1.medium.com/max/2000/1*qM1HiWZ_uigwdcZ0_ZL6yA.png)

_(_[_æ•°æ®æ¥æº_](https://www.kaggle.com/mirichoi0218/insurance#insurance.csv)_)_

### ç›®æ ‡

æ„å»ºå¹¶éƒ¨ç½²ä¸€ä¸ª Web åº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥åœ¨åŸºäº Web çš„è¡¨å•ä¸­è¾“å…¥æ‚£è€…çš„äººå£ç»Ÿè®¡å’Œå¥åº·ä¿¡æ¯ï¼Œç„¶åè¾“å‡ºé¢„æµ‹çš„è´¹ç”¨é‡‘é¢ã€‚

### ä»»åŠ¡

* ä¸ºéƒ¨ç½²è®­ç»ƒå’Œå¼€å‘ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®¡é“ã€‚
* ä½¿ç”¨ Flask æ¡†æ¶æ„å»º Web åº”ç”¨ç¨‹åºã€‚å®ƒå°†ä½¿ç”¨è®­ç»ƒå¥½çš„æœºå™¨å­¦ä¹ ç®¡é“å®æ—¶ç”Ÿæˆæ–°æ•°æ®ç‚¹çš„é¢„æµ‹ã€‚
* æ„å»ºä¸€ä¸ª Docker é•œåƒå¹¶å°†å®¹å™¨ä¸Šä¼ åˆ° Google Container Registry (GCR)ã€‚
* åˆ›å»ºé›†ç¾¤å¹¶åœ¨ Google Kubernetes Engine ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚

ç”±äºæˆ‘ä»¬å·²ç»åœ¨åˆå§‹æ•™ç¨‹ä¸­æ¶µç›–äº†å‰ä¸¤é¡¹ä»»åŠ¡ï¼Œæˆ‘ä»¬å°†å¿«é€Ÿå›é¡¾å®ƒä»¬ï¼Œç„¶åä¸“æ³¨äºä¸Šè¿°åˆ—è¡¨ä¸­çš„å‰©ä½™é¡¹ç›®ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£å¦‚ä½•ä½¿ç”¨ PyCaret åœ¨ Python ä¸­å¼€å‘æœºå™¨å­¦ä¹ ç®¡é“ä»¥åŠä½¿ç”¨ Flask æ¡†æ¶æ„å»º Web åº”ç”¨ç¨‹åºï¼Œè¯·é˜…è¯»[æ­¤æ•™ç¨‹](https://towardsdatascience.com/build-and-deploy-your-first-machine-learning-web-app-e020db344a99)ã€‚

### ğŸ‘‰ å¼€å‘ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®¡é“
æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ Python ä¸­çš„ PyCaret è¿›è¡Œè®­ç»ƒå’Œå¼€å‘æœºå™¨å­¦ä¹ ç®¡é“ï¼Œè¯¥ç®¡é“å°†ä½œä¸ºæˆ‘ä»¬ Web åº”ç”¨çš„ä¸€éƒ¨åˆ†ã€‚æœºå™¨å­¦ä¹ ç®¡é“å¯ä»¥åœ¨é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰æˆ–ç¬”è®°æœ¬ä¸­å¼€å‘ã€‚æˆ‘ä»¬å·²ç»ä½¿ç”¨ç¬”è®°æœ¬æ¥è¿è¡Œä¸‹é¢çš„ä»£ç ï¼š

å½“ä½ åœ¨ PyCaret ä¸­ä¿å­˜ä¸€ä¸ªæ¨¡å‹æ—¶ï¼ŒåŸºäº \*\*setup() \*\*å‡½æ•°ä¸­å®šä¹‰çš„é…ç½®ï¼Œå°†åˆ›å»ºæ•´ä¸ªè½¬æ¢ç®¡é“ã€‚æ‰€æœ‰ç›¸äº’ä¾èµ–å…³ç³»éƒ½ä¼šè‡ªåŠ¨åè°ƒã€‚æŸ¥çœ‹å­˜å‚¨åœ¨ â€˜deployment\_28042020â€™ å˜é‡ä¸­çš„ç®¡é“å’Œæ¨¡å‹ï¼š

![ä½¿ç”¨ PyCaret åˆ›å»ºçš„æœºå™¨å­¦ä¹ ç®¡é“](https://cdn-images-1.medium.com/max/2000/1\*P7EXfIxqZZGrpeLgDdk1vQ.png)

### ğŸ‘‰ æ„å»º Web åº”ç”¨

æœ¬æ•™ç¨‹ä¸ä¾§é‡äºæ„å»º Flask åº”ç”¨ç¨‹åºã€‚è¿™é‡Œä»…è®¨è®ºå®Œæ•´æ€§ã€‚ç°åœ¨æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ ç®¡é“å·²ç»å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª Web åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è¿æ¥åˆ°æˆ‘ä»¬è®­ç»ƒå¥½çš„ç®¡é“ï¼Œä»¥ä¾¿å®æ—¶ç”Ÿæˆæ–°æ•°æ®ç‚¹çš„é¢„æµ‹ã€‚æˆ‘ä»¬ä½¿ç”¨ Python ä¸­çš„ Flask æ¡†æ¶åˆ›å»ºäº† Web åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºæœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼š

* å‰ç«¯ï¼ˆä½¿ç”¨ HTML è®¾è®¡ï¼‰
* åç«¯ï¼ˆä½¿ç”¨ Flask å¼€å‘ï¼‰

è¿™æ˜¯æˆ‘ä»¬çš„ Web åº”ç”¨ç¨‹åºå¤–è§‚ï¼š

![æœ¬åœ°æœºå™¨ä¸Šçš„ Web åº”ç”¨ç¨‹åº](https://cdn-images-1.medium.com/max/3780/1\*tc\_6S8NztYKB85rPUJd1uQ.png)

å¦‚æœåˆ°ç›®å‰ä¸ºæ­¢ä½ è¿˜æ²¡æœ‰è·Ÿéšè¿›è¡Œï¼Œæ²¡é—®é¢˜ã€‚ä½ å¯ä»¥ç®€å•åœ°ä» GitHub ä¸Š fork è¿™ä¸ª [ä»“åº“](https://github.com/pycaret/pycaret-deployment-google)ã€‚æ­¤æ—¶ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š

![https://www.github.com/pycaret/pycaret-deployment-google](https://cdn-images-1.medium.com/max/3796/1\*CcId22jB-BMCen8o1hWNdQ.png)

ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªå®Œå…¨åŠŸèƒ½çš„ Web åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å°†è¯¥åº”ç”¨ç¨‹åºå®¹å™¨åŒ–å¹¶éƒ¨ç½²åˆ° Google Kubernetes Engineã€‚

### åœ¨ Google Kubernetes Engine ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ ç®¡é“çš„ 10 ä¸ªæ­¥éª¤ï¼š

#### ğŸ‘‰ æ­¥éª¤ 1 â€” åœ¨ GCP æ§åˆ¶å°ä¸­åˆ›å»ºæ–°é¡¹ç›®

ç™»å½•åˆ°æ‚¨çš„ GCP æ§åˆ¶å°ï¼Œç„¶åè½¬åˆ°â€œç®¡ç†èµ„æºâ€

![Google äº‘å¹³å°æ§åˆ¶å° â†’ ç®¡ç†èµ„æº](https://cdn-images-1.medium.com/max/3832/1\*OS16COUUns7uBnpyUxH9-w.png)

ç‚¹å‡» **åˆ›å»ºæ–°é¡¹ç›®**

![Google äº‘å¹³å°æ§åˆ¶å° â†’ ç®¡ç†èµ„æº â†’ åˆ›å»ºæ–°é¡¹ç›®](https://cdn-images-1.medium.com/max/3834/1\*QJz8fITeJJWP44yPm2v4vQ.png)

#### ğŸ‘‰ æ­¥éª¤ 2 â€” å¯¼å…¥é¡¹ç›®ä»£ç 

ç‚¹å‡»æ§åˆ¶å°çª—å£é¡¶éƒ¨çš„ \*\*æ¿€æ´» Cloud Shell \*\*æŒ‰é’®ä»¥æ‰“å¼€ Cloud Shellã€‚

![Google äº‘å¹³å°ï¼ˆé¡¹ç›®ä¿¡æ¯é¡µé¢ï¼‰](https://cdn-images-1.medium.com/max/3834/1\*Mbcd4RlkCcz98Pbf4KSUAA.png)

åœ¨ Cloud Shell ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ä»¥å…‹éš†æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨çš„ GitHub ä»“åº“ã€‚

```
git clone https://github.com/pycaret/pycaret-deployment-google.git
```

![git clone https://github.com/pycaret/pycaret-deployment-google.git](https://cdn-images-1.medium.com/max/3838/1\*g\_RQ30jDG4UsyS84mh-qrw.png)

#### ğŸ‘‰ æ­¥éª¤ 3 â€” è®¾ç½®é¡¹ç›® ID ç¯å¢ƒå˜é‡

æ‰§è¡Œä»¥ä¸‹ä»£ç è®¾ç½® PROJECT\_ID ç¯å¢ƒå˜é‡ã€‚

```
export PROJECT_ID=**pycaret-kubernetes-demo**
```

_pycaret-kubernetes-demo_ æ˜¯æˆ‘ä»¬åœ¨ä¸Šè¿°ç¬¬ 1 æ­¥ä¸­é€‰æ‹©çš„é¡¹ç›®åç§°ã€‚

#### ğŸ‘‰ æ­¥éª¤ 4 â€” æ„å»º Docker é•œåƒ

é€šè¿‡æ‰§è¡Œä»¥ä¸‹ä»£ç æ„å»ºåº”ç”¨ç¨‹åºçš„ Docker é•œåƒå¹¶ä¸ºä¸Šä¼ æ‰“æ ‡ç­¾ï¼š

```
docker build -t gcr.io/${PROJECT_ID}/insurance-app:v1 .
```

![æˆåŠŸæ„å»º Docker æ—¶è¿”å›çš„æ¶ˆæ¯](https://cdn-images-1.medium.com/max/3834/1\*Zo7\_W7pG6JhFvHbzyQeEsA.png)

æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹ä»£ç æ¥æ£€æŸ¥å¯ç”¨çš„é•œåƒï¼š

```
docker images
```

![åœ¨ Cloud Shell ä¸Šè¿è¡Œâ€œdocker imagesâ€å‘½ä»¤çš„è¾“å‡º](https://cdn-images-1.medium.com/max/3834/1\*0paobe\_W8tmdCF1xhX4BgA.png)

#### ğŸ‘‰ æ­¥éª¤ 5 â€” ä¸Šä¼ å®¹å™¨é•œåƒ

1.  è®¤è¯åˆ° [Container Registry](https://cloud.google.com/container-registry)ï¼ˆæ‚¨åªéœ€è¦è¿è¡Œä¸€æ¬¡ï¼‰ï¼š

    gcloud auth configure-docker
2.  æ‰§è¡Œä»¥ä¸‹ä»£ç å°† Docker é•œåƒä¸Šä¼ åˆ° Google Container Registryï¼š

    docker push gcr.io/${PROJECT\_ID}/insurance-app:v1

#### ğŸ‘‰ æ­¥éª¤ 6 â€” åˆ›å»ºé›†ç¾¤

ç°åœ¨å®¹å™¨å·²ä¸Šä¼ ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªé›†ç¾¤æ¥è¿è¡Œå®¹å™¨ã€‚é›†ç¾¤åŒ…å«ä¸€ç»„è¿è¡Œ Kubernetes çš„ Compute Engine VM å®ä¾‹ã€‚

1.  ä¸º gcloud å·¥å…·è®¾ç½®æ‚¨çš„é¡¹ç›® ID å’Œ Compute Engine åŒºåŸŸé€‰é¡¹ï¼š

    gcloud config set project $PROJECT\_ID gcloud config set compute/zone **us-central1**
2.  é€šè¿‡æ‰§è¡Œä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼š

    gcloud container clusters create **insurance-cluster** --num-nodes=2

![Google äº‘å¹³å° â†’ Kubernetes Engine â†’ é›†ç¾¤](https://cdn-images-1.medium.com/max/3832/1\*l2sHrv5nuFjDKiyAtjYapQ.png)

#### ğŸ‘‰ æ­¥éª¤ 7 â€” éƒ¨ç½²åº”ç”¨ç¨‹åº

è¦åœ¨ GKE é›†ç¾¤ä¸Šéƒ¨ç½²å’Œç®¡ç†åº”ç”¨ç¨‹åºï¼Œæ‚¨å¿…é¡»ä¸ Kubernetes é›†ç¾¤ç®¡ç†ç³»ç»Ÿé€šä¿¡ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²åº”ç”¨ç¨‹åºï¼š

```
kubectl create deployment insurance-app --image=gcr.io/${PROJECT_ID}/insurance-app:v1
```
![é€šè¿‡ kubectl åˆ›å»ºéƒ¨ç½²è¿”å›çš„è¾“å‡º](https://cdn-images-1.medium.com/max/3836/1\*p0\_A6PZnfYJ4mnttM7lzzA.png)

#### ğŸ‘‰ ç¬¬ 8 æ­¥â€” å°†æ‚¨çš„åº”ç”¨ç¨‹åºæš´éœ²ç»™äº’è”ç½‘

é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ GKE ä¸Šè¿è¡Œçš„å®¹å™¨æ— æ³•ä»äº’è”ç½‘è®¿é—®ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å¤–éƒ¨ IP åœ°å€ã€‚æ‰§è¡Œä»¥ä¸‹ä»£ç å°†åº”ç”¨ç¨‹åºæš´éœ²ç»™äº’è”ç½‘ï¼š

```
kubectl expose deployment insurance-app --type=LoadBalancer --port 80 --target-port 8080
```

#### ğŸ‘‰ ç¬¬ 9 æ­¥â€” æ£€æŸ¥æœåŠ¡

æ‰§è¡Œä»¥ä¸‹ä»£ç ä»¥è·å–æœåŠ¡çš„çŠ¶æ€ã€‚**EXTERNAL-IP** æ˜¯æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨çš„ç½‘å€ï¼Œç”¨äºæŸ¥çœ‹å‘å¸ƒçš„åº”ç”¨ç¨‹åºã€‚

```
kubectl get service
```

![Cloud Shell â†’ kubectl get service](https://cdn-images-1.medium.com/max/3832/1\*aRWl7frtmvPYaYjAoloFgQ.png)

ğŸ‘‰ ç¬¬ 10 æ­¥â€” åœ¨ [http://34.71.77.61:8080](http://34.71.77.61:8080) ä¸ŠæŸ¥çœ‹åº”ç”¨ç¨‹åºè¿è¡Œæƒ…å†µ

![æœ€ç»ˆåº”ç”¨ç¨‹åºä¸Šä¼ è‡³ http://34.71.77.61:8080](https://cdn-images-1.medium.com/max/3838/1\*bKuZiYSPdE8T5SLKXx5B\_Q.png)

**æ³¨æ„ï¼š** åœ¨å‘å¸ƒæ­¤æ•…äº‹æ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†ä»å…¬å…±åœ°å€ä¸­ç§»é™¤ï¼Œä»¥é™åˆ¶èµ„æºæ¶ˆè€—ã€‚

[æ­¤æ•™ç¨‹çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/pycaret-deployment-google)

[Microsoft Azure éƒ¨ç½²çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/pycaret-azure-deployment)

[Heroku éƒ¨ç½²çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/deployment-heroku)

### PyCaret 1.0.1 å³å°†å‘å¸ƒï¼

æˆ‘ä»¬æ”¶åˆ°äº†ç¤¾åŒºçš„å¤§åŠ›æ”¯æŒå’Œåé¦ˆã€‚æˆ‘ä»¬æ­£åœ¨ç§¯ææ”¹è¿› PyCaret å¹¶ä¸ºä¸‹ä¸€ä¸ªç‰ˆæœ¬åšå‡†å¤‡ã€‚**PyCaret 1.0.1 å°†æ›´åŠ å¼ºå¤§å’Œä¼˜ç§€**ã€‚å¦‚æœæ‚¨æƒ³åˆ†äº«æ‚¨çš„åé¦ˆå¹¶å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæ‚¨å¯ä»¥åœ¨ç½‘ç«™ä¸Š[å¡«å†™æ­¤è¡¨æ ¼](https://www.pycaret.org/feedback)æˆ–åœ¨æˆ‘ä»¬çš„[GitHub](https://www.github.com/pycaret/)æˆ–[LinkedIn](https://www.linkedin.com/company/pycaret/)é¡µé¢ä¸Šç•™è¨€ã€‚

å…³æ³¨æˆ‘ä»¬çš„[LinkedIn](https://www.linkedin.com/company/pycaret/)å¹¶è®¢é˜…æˆ‘ä»¬çš„[YouTube](https://www.youtube.com/channel/UCxA1YTYJ9BEeo50lxyI\_B3g)é¢‘é“ï¼Œäº†è§£æ›´å¤šå…³äº PyCaret çš„ä¿¡æ¯ã€‚

### æƒ³äº†è§£ç‰¹å®šæ¨¡å—å—ï¼Ÿ

åœ¨é¦–æ¬¡å‘å¸ƒçš„ 1.0.0 ç‰ˆæœ¬ä¸­ï¼ŒPyCaret æä¾›äº†ä»¥ä¸‹å¯ç”¨äºä½¿ç”¨çš„æ¨¡å—ã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹ Python ä¸­çš„æ–‡æ¡£å’Œç¤ºä¾‹ã€‚

[åˆ†ç±»](https://www.pycaret.org/classification) [å›å½’](https://www.pycaret.org/regression) [èšç±»](https://www.pycaret.org/clustering) [å¼‚å¸¸æ£€æµ‹](https://www.pycaret.org/anomaly-detection) [è‡ªç„¶è¯­è¨€å¤„ç†](https://www.pycaret.org/nlp) [å…³è”è§„åˆ™æŒ–æ˜](https://www.pycaret.org/association-rules)

### è¿˜å¯ä»¥æŸ¥çœ‹ï¼š

PyCaret åœ¨ Notebook ä¸­çš„å…¥é—¨æ•™ç¨‹ï¼š

[èšç±»](https://www.pycaret.org/clu101) [å¼‚å¸¸æ£€æµ‹](https://www.pycaret.org/anom101) [è‡ªç„¶è¯­è¨€å¤„ç†](https://www.pycaret.org/nlp101) [å…³è”è§„åˆ™æŒ–æ˜](https://www.pycaret.org/arul101) [å›å½’](https://www.pycaret.org/reg101) [åˆ†ç±»](https://www.pycaret.org/clf101)

### æƒ³è¦è´¡çŒ®å—ï¼Ÿ

PyCaret æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚æ¬¢è¿æ¯ä¸ªäººè´¡çŒ®ã€‚å¦‚æœæ‚¨æƒ³è´¡çŒ®ï¼Œè¯·éšæ—¶å¤„ç†[å¼€æ”¾é—®é¢˜](https://github.com/pycaret/pycaret/issues)ã€‚åœ¨ dev-1.0.1 åˆ†æ”¯ä¸Šæ¥å—å¸¦æœ‰å•å…ƒæµ‹è¯•çš„æ‹‰å–è¯·æ±‚ã€‚

å¦‚æœæ‚¨å–œæ¬¢ PyCaretï¼Œè¯·åœ¨æˆ‘ä»¬çš„[GitHub ä»“åº“](https://www.github.com/pycaret/pycaret)ä¸Šç»™æˆ‘ä»¬ â­ï¸ã€‚

Mediumï¼š[https://medium.com/@moez\_62905/](https://medium.com/@moez\_62905/machine-learning-in-power-bi-using-pycaret-34307f09394a)

LinkedInï¼š[https://www.linkedin.com/in/profile-moez/](https://www.linkedin.com/in/profile-moez/)

Twitterï¼š[https://twitter.com/moezpycaretorg1](https://twitter.com/moezpycaretorg1)