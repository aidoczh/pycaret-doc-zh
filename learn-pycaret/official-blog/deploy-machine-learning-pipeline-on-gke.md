# åœ¨ GKE ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿

### åœ¨ Google Kubernetes Engine ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿

#### ä½œè€…ï¼šMoez Ali

![ä¸€ä¸ªé€æ­¥æŒ‡å—ï¼Œæ•™ä½ å¦‚ä½•åœ¨ Google Kubernetes Engine ä¸Šå°†æœºå™¨å­¦ä¹ æµæ°´çº¿å®¹å™¨åŒ–å¹¶éƒ¨ç½²](https://cdn-images-1.medium.com/max/2000/1\*P-JjI7MXq6UJV9Xab-B9qg.png)

### å›é¡¾

åœ¨æˆ‘ä»¬å…³äºåœ¨äº‘ç«¯éƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿çš„[ä¸Šä¸€ç¯‡æ–‡ç« ](https://towardsdatascience.com/deploy-machine-learning-pipeline-on-cloud-using-docker-container-bec64458dc01)ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ PyCaret å¼€å‘æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œå°†å…¶ä¸ Docker å®¹å™¨åŒ–ï¼Œå¹¶ä½œä¸º Web åº”ç”¨ç¨‹åºåœ¨ Microsoft Azure Web App Services ä¸Šæä¾›æœåŠ¡ã€‚å¦‚æœä½ ä¹‹å‰æ²¡æœ‰å¬è¯´è¿‡ PyCaretï¼Œè¯·é˜…è¯»è¿™ç¯‡[å…¬å‘Š](https://towardsdatascience.com/announcing-pycaret-an-open-source-low-code-machine-learning-library-in-python-4a1f1aad8d46)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¹‹å‰æ„å»ºå’Œéƒ¨ç½²çš„ç›¸åŒæœºå™¨å­¦ä¹ æµæ°´çº¿å’Œ Flask åº”ç”¨ç¨‹åºã€‚è¿™æ¬¡æˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•åœ¨ Google Kubernetes Engine ä¸Šå°†æœºå™¨å­¦ä¹ æµæ°´çº¿å®¹å™¨åŒ–å¹¶éƒ¨ç½²ã€‚

### ğŸ‘‰ æœ¬æ•™ç¨‹çš„å­¦ä¹ ç›®æ ‡

* äº†è§£ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Œä»€ä¹ˆæ˜¯ Dockerï¼Œä»€ä¹ˆæ˜¯ Kubernetesï¼Œä»¥åŠä»€ä¹ˆæ˜¯ Google Kubernetes Engineï¼Ÿ
* æ„å»º Docker é•œåƒå¹¶å°†å…¶ä¸Šä¼ è‡³ Google Container Registryï¼ˆGCRï¼‰ã€‚
* åˆ›å»ºé›†ç¾¤å¹¶éƒ¨ç½²ä¸€ä¸ªå¸¦æœ‰ Flask åº”ç”¨ç¨‹åºçš„æœºå™¨å­¦ä¹ æµæ°´çº¿ä½œä¸º Web æœåŠ¡ã€‚
* æŸ¥çœ‹ä¸€ä¸ª Web åº”ç”¨ç¨‹åºçš„å®é™…è¿è¡Œï¼Œè¯¥åº”ç”¨ç¨‹åºä½¿ç”¨è®­ç»ƒæœ‰ç´ çš„æœºå™¨å­¦ä¹ æµæ°´çº¿å®æ—¶é¢„æµ‹æ–°æ•°æ®ç‚¹ã€‚

ä¹‹å‰æˆ‘ä»¬æ¼”ç¤ºäº†[å¦‚ä½•åœ¨ Heroku PaaS ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿](https://towardsdatascience.com/build-and-deploy-your-first-machine-learning-web-app-e020db344a99)ä»¥åŠ[å¦‚ä½•ä½¿ç”¨ Docker å®¹å™¨åœ¨ Azure Web Services ä¸Šéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿ã€‚](https://towardsdatascience.com/deploy-machine-learning-pipeline-on-cloud-using-docker-container-bec64458dc01)

æœ¬æ•™ç¨‹å°†è¦†ç›–ä»æ„å»º Docker é•œåƒå¼€å§‹ï¼Œå°†å…¶ä¸Šä¼ åˆ° Google Container Registryï¼Œç„¶åéƒ¨ç½²é¢„è®­ç»ƒçš„æœºå™¨å­¦ä¹ æµæ°´çº¿å’Œ Flask åº”ç”¨ç¨‹åºåˆ° Google Kubernetes Engineï¼ˆGKEï¼‰çš„æ•´ä¸ªå·¥ä½œæµç¨‹ã€‚

### ğŸ’» æœ¬æ•™ç¨‹çš„å·¥å…·ç®±

### PyCaret

[PyCaret](https://www.pycaret.org/) æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ä½ä»£ç çš„ Python æœºå™¨å­¦ä¹ åº“ï¼Œç”¨äºè®­ç»ƒå’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æµæ°´çº¿å’Œæ¨¡å‹åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚å¯ä»¥ä½¿ç”¨ pip è½»æ¾å®‰è£… PyCaretã€‚

```
pip install pycaret
```

### Flask

[Flask](https://flask.palletsprojects.com/en/1.1.x/) æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå…è®¸ä½ æ„å»º Web åº”ç”¨ç¨‹åºã€‚Web åº”ç”¨ç¨‹åºå¯ä»¥æ˜¯å•†ä¸šç½‘ç«™ã€åšå®¢ã€ç”µå­å•†åŠ¡ç³»ç»Ÿï¼Œæˆ–è€…æ˜¯ä½¿ç”¨è®­ç»ƒæ¨¡å‹å®æ—¶æä¾›æ•°æ®é¢„æµ‹çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Flaskï¼Œå¯ä»¥ä½¿ç”¨ pip å®‰è£…å®ƒã€‚

### Google Cloud Platform

Google Cloud Platformï¼ˆGCPï¼‰ç”± Google æä¾›ï¼Œæ˜¯ä¸€å¥—äº‘è®¡ç®—æœåŠ¡ï¼Œè¿è¡Œåœ¨ Google ç”¨äºå…¶ç»ˆç«¯ç”¨æˆ·äº§å“ï¼ˆå¦‚ Google æœç´¢ã€Gmail å’Œ YouTubeï¼‰çš„ç›¸åŒåŸºç¡€æ¶æ„ä¸Šã€‚å¦‚æœä½ è¿˜æ²¡æœ‰ GCP å¸æˆ·ï¼Œå¯ä»¥åœ¨[è¿™é‡Œ](https://console.cloud.google.com/getting-started)æ³¨å†Œã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ³¨å†Œï¼Œå°†è·å¾—ä¸ºæœŸ 1 å¹´çš„å…è´¹ä¿¡ç”¨é¢åº¦ã€‚

### è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

åœ¨æ·±å…¥ Kubernetes ä¹‹å‰ï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å®ƒï¼Ÿ

![https://www.freepik.com/free-photos-vectors/cargo-ship](https://cdn-images-1.medium.com/max/2000/1\*SlzsvRhA71oFOhAjE1Hs0A.jpeg)

ä½ æ˜¯å¦æ›¾ç»é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šä½ çš„ä»£ç åœ¨ä½ çš„è®¡ç®—æœºä¸Šè¿è¡Œæ­£å¸¸ï¼Œä½†å½“æœ‹å‹å°è¯•è¿è¡Œå®Œå…¨ç›¸åŒçš„ä»£ç æ—¶ï¼Œå´æ— æ³•æ­£å¸¸å·¥ä½œï¼Ÿå¦‚æœä½ çš„æœ‹å‹é‡å¤äº†å®Œå…¨ç›¸åŒçš„æ­¥éª¤ï¼Œä»–æˆ–å¥¹åº”è¯¥å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œå¯¹å§ï¼Ÿè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯\*\*_ç¯å¢ƒ_\*\*ã€‚ä½ æœ‹å‹çš„ç¯å¢ƒä¸ä½ çš„ä¸åŒã€‚

ç¯å¢ƒåŒ…æ‹¬ä»€ä¹ˆï¼Ÿâ†’ ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚ Pythonï¼Œä»¥åŠæ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„æ‰€æœ‰åº“å’Œä¾èµ–é¡¹çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚

å¦‚æœæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯ä»¥è½¬ç§»åˆ°å…¶ä»–è®¡ç®—æœºï¼ˆä¾‹å¦‚ï¼šä½ æœ‹å‹çš„è®¡ç®—æœºæˆ–åƒ Google Cloud Platform è¿™æ ·çš„äº‘æœåŠ¡æä¾›å•†ï¼‰çš„ç¯å¢ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é‡ç°ç»“æœã€‚å› æ­¤ï¼Œ\*\*\*ä¸€ä¸ª\*\*\*\*å®¹å™¨\*\*\*æ˜¯ä¸€ç§è½¯ä»¶ç±»å‹ï¼Œå®ƒæ‰“åŒ…åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿå¯é åœ°ä»ä¸€ä¸ªè®¡ç®—ç¯å¢ƒè¿è¡Œåˆ°å¦ä¸€ä¸ªè®¡ç®—ç¯å¢ƒã€‚

> é‚£ä¹ˆ Docker æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

![](https://cdn-images-1.medium.com/max/2000/1\*EJx9QN4ENSPKZuz51rC39w.png)

Docker æ˜¯ä¸€å®¶æä¾›è½¯ä»¶ï¼ˆä¹Ÿç§°ä¸º Dockerï¼‰çš„å…¬å¸ï¼Œå…è®¸ç”¨æˆ·æ„å»ºã€è¿è¡Œå’Œç®¡ç†å®¹å™¨ã€‚è™½ç„¶ Docker çš„å®¹å™¨æ˜¯æœ€å¸¸è§çš„ï¼Œä½†è¿˜æœ‰å…¶ä»–ä¸é‚£ä¹ˆå‡ºåçš„_æ›¿ä»£æ–¹æ¡ˆ_ï¼Œå¦‚[LXD](https://linuxcontainers.org/lxd/introduction/)å’Œ[LXC](https://linuxcontainers.org/)æä¾›å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚

ç°åœ¨ä½ äº†è§£äº†å®¹å™¨å’Œå…·ä½“çš„ Dockerï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹ Kubernetes æ˜¯ä»€ä¹ˆã€‚
Kubernetesæ˜¯ç”±Googleäº2014å¹´å¼€å‘çš„ä¸€ç§å¼ºå¤§çš„å¼€æºç³»ç»Ÿï¼Œç”¨äºç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚ç®€å•æ¥è¯´ï¼ŒKubernetesæ˜¯ä¸€ç§åœ¨æœºç¾¤ä¸­è¿è¡Œå’Œåè°ƒå®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„ç³»ç»Ÿã€‚å®ƒæ˜¯ä¸€ä¸ªæ—¨åœ¨å®Œå…¨ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸçš„å¹³å°ã€‚

![Photo by chuttersnap on Unsplash](https://cdn-images-1.medium.com/max/23216/0\*2ZayMwt1Un8-9ZFA)

### ç‰¹ç‚¹

âœ”ï¸ **è´Ÿè½½å‡è¡¡ï¼š**è‡ªåŠ¨åœ¨å®¹å™¨ä¹‹é—´åˆ†é…è´Ÿè½½ã€‚

âœ”ï¸ **æ‰©å±•ï¼š**æ ¹æ®éœ€æ±‚çš„å˜åŒ–ï¼ˆå¦‚é«˜å³°æ—¶æ®µã€å‘¨æœ«å’Œå‡æœŸï¼‰è‡ªåŠ¨å¢åŠ æˆ–åˆ é™¤å®¹å™¨ã€‚

âœ”ï¸ **å­˜å‚¨ï¼š**ä¿æŒå¤šä¸ªåº”ç”¨ç¨‹åºå®ä¾‹çš„å­˜å‚¨ä¸€è‡´ã€‚

âœ”ï¸ **è‡ªæ„ˆï¼š**è‡ªåŠ¨é‡æ–°å¯åŠ¨å¤±è´¥çš„å®¹å™¨ï¼Œå¹¶æ€æ­»ä¸å“åº”ç”¨æˆ·å®šä¹‰çš„å¥åº·æ£€æŸ¥çš„å®¹å™¨ã€‚

âœ”ï¸ **è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼š**æ‚¨å¯ä»¥è‡ªåŠ¨åŒ–Kubernetesæ¥ä¸ºæ‚¨çš„éƒ¨ç½²åˆ›å»ºæ–°çš„å®¹å™¨ï¼Œåˆ é™¤ç°æœ‰çš„å®¹å™¨ï¼Œå¹¶å°†æ‰€æœ‰èµ„æºè½¬ç§»åˆ°æ–°çš„å®¹å™¨ã€‚

### å¦‚æœæ‚¨å·²ç»ä½¿ç”¨Dockerï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦Kubernetesï¼Ÿ

æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼šæ‚¨éœ€è¦åœ¨å¤šå°æœºå™¨ä¸Šè¿è¡Œå¤šä¸ªDockerå®¹å™¨ï¼Œä»¥æ”¯æŒä¸€ä¸ªä¼ä¸šçº§çš„æœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºï¼Œåœ¨ç™½å¤©å’Œæ™šä¸Šçš„å·¥ä½œè´Ÿè½½å„ä¸ç›¸åŒã€‚å°½ç®¡å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ‰‹åŠ¨å®Œæˆè¿™é¡¹å·¥ä½œæ˜¯éå¸¸ç¹ççš„ã€‚

æ‚¨éœ€è¦åœ¨æ­£ç¡®çš„æ—¶é—´å¯åŠ¨æ­£ç¡®çš„å®¹å™¨ï¼Œå¼„æ¸…å®ƒä»¬å¦‚ä½•ç›¸äº’é€šä¿¡ï¼Œå¤„ç†å­˜å‚¨è€ƒè™‘å› ç´ ï¼Œå¹¶å¤„ç†å¤±è´¥çš„å®¹å™¨æˆ–ç¡¬ä»¶ã€‚è¿™æ­£æ˜¯Kubernetesé€šè¿‡å…è®¸å¤§é‡å®¹å™¨ååŒå·¥ä½œæ¥è§£å†³çš„é—®é¢˜ï¼Œä»è€Œå‡è½»äº†è¿è¥è´Ÿæ‹…ã€‚

> ## å°†Dockerä¸Kubernetesè¿›è¡Œæ¯”è¾ƒæ˜¯ä¸€ä¸ªé”™è¯¯ã€‚è¿™æ˜¯ä¸¤ç§ä¸åŒçš„æŠ€æœ¯ã€‚Dockeræ˜¯ä¸€ç§è½¯ä»¶ï¼Œå…è®¸æ‚¨å°†åº”ç”¨ç¨‹åºå®¹å™¨åŒ–ï¼Œè€ŒKubernetesæ˜¯ä¸€ä¸ªå®¹å™¨ç®¡ç†ç³»ç»Ÿï¼Œå…è®¸åˆ›å»ºã€æ‰©å±•å’Œç›‘æ§æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå®¹å™¨ã€‚

åœ¨ä»»ä½•åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒDockerç”¨äºåœ¨éƒ¨ç½²æ—¶æ‰“åŒ…åº”ç”¨ç¨‹åºï¼Œè€ŒKubernetesç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„å…¶ä½™ç”Ÿå‘½å‘¨æœŸã€‚

![é€šè¿‡Kubernetes / Dockeréƒ¨ç½²çš„åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ](https://cdn-images-1.medium.com/max/3200/1\*dBJjxZrfdMppXhdwjZLX6w.png)

### ä»€ä¹ˆæ˜¯Google Kubernetes Engineï¼Ÿ

Google Kubernetes Engineæ˜¯åœ¨Google Cloud Platformä¸Šå®ç°Googleå¼€æºKubernetesçš„ä¸€ç§æ–¹å¼ã€‚ç®€å•ï¼

GKEçš„å…¶ä»–çƒ­é—¨æ›¿ä»£å“åŒ…æ‹¬[Amazon ECS](https://aws.amazon.com/ecs/)å’Œ[Microsoft Azure Kubernetes Service](https://azure.microsoft.com/en-us/services/kubernetes-service/)ã€‚

### æœ€åä¸€æ¬¡ï¼Œä½ æ˜ç™½äº†å—ï¼Ÿ

* **å®¹å™¨**æ˜¯ä¸€ç§è½¯ä»¶ç±»å‹ï¼Œå°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–é¡¹æ‰“åŒ…ï¼Œä»¥ä¾¿åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä¸åŒçš„è®¡ç®—ç¯å¢ƒä¸­å¯é è¿è¡Œã€‚
* **Docker**æ˜¯ç”¨äºæ„å»ºå’Œç®¡ç†å®¹å™¨çš„è½¯ä»¶ã€‚
* **Kubernetes**æ˜¯ä¸€ç§åœ¨é›†ç¾¤ç¯å¢ƒä¸­ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¼€æºç³»ç»Ÿã€‚
* **Google Kubernetes Engine**æ˜¯åœ¨Google Cloud Platformä¸Šå®ç°å¼€æºKubernetesæ¡†æ¶çš„ä¸€ç§æ–¹å¼ã€‚

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Google Kubernetes Engineã€‚ä¸ºäº†è·Ÿè¿›ï¼Œè¯·ç¡®ä¿æ‚¨æ‹¥æœ‰Google Cloud Platformå¸æˆ·ã€‚[ç‚¹å‡»è¿™é‡Œ](https://console.cloud.google.com/getting-started)å…è´¹æ³¨å†Œã€‚

### è®¾ç½®ä¸šåŠ¡èƒŒæ™¯

ä¸€å®¶ä¿é™©å…¬å¸å¸Œæœ›é€šè¿‡åœ¨å…¥é™¢æ—¶ä½¿ç”¨äººå£ç»Ÿè®¡å­¦å’ŒåŸºæœ¬æ‚£è€…å¥åº·é£é™©æŒ‡æ ‡æ›´å¥½åœ°é¢„æµ‹æ‚£è€…è´¹ç”¨ï¼Œä»¥æ”¹å–„ç°é‡‘æµé¢„æµ‹ã€‚

![](https://cdn-images-1.medium.com/max/2000/1\*qM1HiWZ\_uigwdcZ0\_ZL6yA.png)

_(_[_æ•°æ®æ¥æº_](https://www.kaggle.com/mirichoi0218/insurance#insurance.csv)_)_

### ç›®æ ‡

æ„å»ºå’Œéƒ¨ç½²ä¸€ä¸ªWebåº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥åœ¨åŸºäºWebçš„è¡¨å•ä¸­è¾“å…¥æ‚£è€…çš„äººå£ç»Ÿè®¡å’Œå¥åº·ä¿¡æ¯ï¼Œç„¶åè¾“å‡ºé¢„æµ‹çš„è´¹ç”¨é‡‘é¢ã€‚

### ä»»åŠ¡

* ä¸ºéƒ¨ç½²è®­ç»ƒå’Œå¼€å‘ä¸€ä¸ªæœºå™¨å­¦ä¹ æµæ°´çº¿ã€‚
* ä½¿ç”¨Flaskæ¡†æ¶æ„å»ºä¸€ä¸ªWebåº”ç”¨ç¨‹åºã€‚å®ƒå°†ä½¿ç”¨è®­ç»ƒå¥½çš„æœºå™¨å­¦ä¹ æµæ°´çº¿å®æ—¶ç”Ÿæˆæ–°æ•°æ®ç‚¹çš„é¢„æµ‹ç»“æœã€‚
* æ„å»ºä¸€ä¸ªDockeré•œåƒï¼Œå¹¶å°†ä¸€ä¸ªå®¹å™¨ä¸Šä¼ åˆ°Googleå®¹å™¨æ³¨å†Œè¡¨ï¼ˆGCRï¼‰ã€‚
* åœ¨Google Kubernetes Engineä¸Šåˆ›å»ºé›†ç¾¤å¹¶éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚

ç”±äºæˆ‘ä»¬å·²ç»åœ¨åˆå§‹æ•™ç¨‹ä¸­æ¶µç›–äº†å‰ä¸¤ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°†å¿«é€Ÿå›é¡¾å®ƒä»¬ï¼Œç„¶åä¸“æ³¨äºä¸Šè¿°åˆ—è¡¨ä¸­çš„å‰©ä½™é¡¹ç›®ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£å¦‚ä½•ä½¿ç”¨PyCaretåœ¨Pythonä¸­å¼€å‘æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œå¹¶ä½¿ç”¨Flaskæ¡†æ¶æ„å»ºWebåº”ç”¨ç¨‹åºï¼Œè¯·é˜…è¯»[æœ¬æ•™ç¨‹](https://towardsdatascience.com/build-and-deploy-your-first-machine-learning-web-app-e020db344a99)ã€‚
æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨Pythonä¸­çš„PyCaretè¿›è¡Œè®­ç»ƒå’Œå¼€å‘æœºå™¨å­¦ä¹ æµæ°´çº¿ï¼Œè¯¥æµæ°´çº¿å°†ä½œä¸ºæˆ‘ä»¬Webåº”ç”¨çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ã€‚æœºå™¨å­¦ä¹ æµæ°´çº¿å¯ä»¥åœ¨é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰æˆ–ç¬”è®°æœ¬ä¸­å¼€å‘ã€‚æˆ‘ä»¬ä½¿ç”¨ç¬”è®°æœ¬æ¥è¿è¡Œä¸‹é¢çš„ä»£ç ï¼š

å½“æ‚¨åœ¨PyCaretä¸­ä¿å­˜æ¨¡å‹æ—¶ï¼Œå°†æ ¹æ®\*\*setup() \*\*å‡½æ•°ä¸­å®šä¹‰çš„é…ç½®åˆ›å»ºæ•´ä¸ªè½¬æ¢æµæ°´çº¿ã€‚æ‰€æœ‰ç›¸äº’ä¾èµ–å…³ç³»éƒ½ä¼šè‡ªåŠ¨åè°ƒã€‚è¯·å‚è§å­˜å‚¨åœ¨â€œdeployment\_28042020â€å˜é‡ä¸­çš„æµæ°´çº¿å’Œæ¨¡å‹ï¼š

![ä½¿ç”¨PyCaretåˆ›å»ºçš„æœºå™¨å­¦ä¹ æµæ°´çº¿](https://cdn-images-1.medium.com/max/2000/1\*P7EXfIxqZZGrpeLgDdk1vQ.png)

### ğŸ‘‰ æ„å»ºWebåº”ç”¨ç¨‹åº

æœ¬æ•™ç¨‹ä¸ä¸“æ³¨äºæ„å»ºFlaskåº”ç”¨ç¨‹åºã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†å®Œæ•´æ€§è€Œè®¨è®ºã€‚ç°åœ¨æˆ‘ä»¬çš„æœºå™¨å­¦ä¹ æµæ°´çº¿å·²ç»å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªWebåº”ç”¨ç¨‹åºï¼Œå¯ä»¥è¿æ¥åˆ°æˆ‘ä»¬è®­ç»ƒå¥½çš„æµæ°´çº¿ï¼Œä»¥ä¾¿å®æ—¶ç”Ÿæˆæ–°æ•°æ®ç‚¹çš„é¢„æµ‹ã€‚æˆ‘ä»¬ä½¿ç”¨Pythonä¸­çš„Flaskæ¡†æ¶åˆ›å»ºäº†Webåº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š

* å‰ç«¯ï¼ˆä½¿ç”¨HTMLè®¾è®¡ï¼‰
* åç«¯ï¼ˆä½¿ç”¨Flaskå¼€å‘ï¼‰

è¿™æ˜¯æˆ‘ä»¬çš„Webåº”ç”¨ç¨‹åºçš„å¤–è§‚ï¼š

![æœ¬åœ°æœºå™¨ä¸Šçš„Webåº”ç”¨ç¨‹åº](https://cdn-images-1.medium.com/max/3780/1\*tc\_6S8NztYKB85rPUJd1uQ.png)

å¦‚æœæ‚¨åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰è·Ÿéšè¿›è¡Œæ“ä½œï¼Œæ²¡é—®é¢˜ã€‚æ‚¨å¯ä»¥ä»GitHubä¸Šç®€å•åœ°forkè¿™ä¸ª[å­˜å‚¨åº“](https://github.com/pycaret/pycaret-deployment-google)ã€‚æ­¤æ—¶ï¼Œæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š

![https://www.github.com/pycaret/pycaret-deployment-google](https://cdn-images-1.medium.com/max/3796/1\*CcId22jB-BMCen8o1hWNdQ.png)

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå®Œå…¨åŠŸèƒ½çš„Webåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹åœ¨Google Kubernetes Engineä¸Šè¿›è¡Œå®¹å™¨åŒ–å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚

### åœ¨Google Kubernetes Engineä¸Šéƒ¨ç½²MLæµæ°´çº¿çš„10ä¸ªæ­¥éª¤ï¼š

#### ğŸ‘‰ ç¬¬1æ­¥ - åœ¨GCPæ§åˆ¶å°ä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®

ç™»å½•åˆ°GCPæ§åˆ¶å°ï¼Œç„¶åè½¬åˆ°â€œç®¡ç†èµ„æºâ€

![Google Cloud Platformæ§åˆ¶å°â†’ç®¡ç†èµ„æº](https://cdn-images-1.medium.com/max/3832/1\*OS16COUUns7uBnpyUxH9-w.png)

ç‚¹å‡»**åˆ›å»ºæ–°é¡¹ç›®**

![Google Cloud Platformæ§åˆ¶å°â†’ç®¡ç†èµ„æºâ†’åˆ›å»ºæ–°é¡¹ç›®](https://cdn-images-1.medium.com/max/3834/1\*QJz8fITeJJWP44yPm2v4vQ.png)

#### ğŸ‘‰ ç¬¬2æ­¥ - å¯¼å…¥é¡¹ç›®ä»£ç 

ç‚¹å‡»æ§åˆ¶å°çª—å£é¡¶éƒ¨çš„**æ¿€æ´»Cloud Shell**æŒ‰é’®ï¼Œä»¥æ‰“å¼€Cloud Shellã€‚

![Google Cloud Platformï¼ˆé¡¹ç›®ä¿¡æ¯é¡µé¢ï¼‰](https://cdn-images-1.medium.com/max/3834/1\*Mbcd4RlkCcz98Pbf4KSUAA.png)

åœ¨Cloud Shellä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œä»¥å…‹éš†æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨çš„GitHubå­˜å‚¨åº“ã€‚

```
git clone https://github.com/pycaret/pycaret-deployment-google.git
```

![git clone https://github.com/pycaret/pycaret-deployment-google.git](https://cdn-images-1.medium.com/max/3838/1\*g\_RQ30jDG4UsyS84mh-qrw.png)

#### ğŸ‘‰ ç¬¬3æ­¥ - è®¾ç½®é¡¹ç›®IDç¯å¢ƒå˜é‡

æ‰§è¡Œä»¥ä¸‹ä»£ç ä»¥è®¾ç½®PROJECT\_IDç¯å¢ƒå˜é‡ã€‚

```
export PROJECT_ID=**pycaret-kubernetes-demo**
```

_pycaret-kubernetes-demo_æ˜¯æˆ‘ä»¬åœ¨ä¸Šè¿°ç¬¬1æ­¥ä¸­é€‰æ‹©çš„é¡¹ç›®åç§°ã€‚

#### ğŸ‘‰ ç¬¬4æ­¥ - æ„å»ºDockeré•œåƒ

é€šè¿‡æ‰§è¡Œä»¥ä¸‹ä»£ç æ„å»ºåº”ç”¨ç¨‹åºçš„Dockeré•œåƒå¹¶ä¸ºå…¶æ‰“æ ‡ç­¾ï¼Œä»¥ä¾¿ä¸Šä¼ ï¼š

```
docker build -t gcr.io/${PROJECT_ID}/insurance-app:v1 .
```

![æˆåŠŸæ„å»ºDockeræ—¶è¿”å›çš„æ¶ˆæ¯](https://cdn-images-1.medium.com/max/3834/1\*Zo7\_W7pG6JhFvHbzyQeEsA.png)

æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹ä»£ç æ¥æ£€æŸ¥å¯ç”¨çš„é•œåƒï¼š

```
docker images
```

![åœ¨Cloud Shellä¸Šè¿è¡Œâ€œdocker imagesâ€å‘½ä»¤çš„è¾“å‡º](https://cdn-images-1.medium.com/max/3834/1\*0paobe\_W8tmdCF1xhX4BgA.png)

#### ğŸ‘‰ ç¬¬5æ­¥ - ä¸Šä¼ å®¹å™¨é•œåƒ

1.  éªŒè¯[å®¹å™¨æ³¨å†Œè¡¨](https://cloud.google.com/container-registry)ï¼ˆåªéœ€è¿è¡Œä¸€æ¬¡ï¼‰ï¼š

    gcloud auth configure-docker
2.  æ‰§è¡Œä»¥ä¸‹ä»£ç å°†Dockeré•œåƒä¸Šä¼ åˆ°Googleå®¹å™¨æ³¨å†Œè¡¨ï¼š

    docker push gcr.io/${PROJECT\_ID}/insurance-app:v1

#### ğŸ‘‰ ç¬¬6æ­¥ - åˆ›å»ºé›†ç¾¤

ç°åœ¨ï¼Œå·²ç»ä¸Šä¼ äº†å®¹å™¨ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªé›†ç¾¤æ¥è¿è¡Œå®¹å™¨ã€‚é›†ç¾¤ç”±ä¸€ç»„è¿è¡ŒKubernetesçš„Compute Engine VMå®ä¾‹ç»„æˆã€‚

1.  ä¸ºgcloudå·¥å…·è®¾ç½®é¡¹ç›®IDå’ŒCompute EngineåŒºåŸŸé€‰é¡¹ï¼š

    gcloud config set project $PROJECT\_ID gcloud config set compute/zone **us-central1**
2.  æ‰§è¡Œä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼š

    gcloud container clusters create **insurance-cluster** --num-nodes=2

![Google Cloud Platform â†’ Kubernetes Engine â†’ Clusters](https://cdn-images-1.medium.com/max/3832/1\*l2sHrv5nuFjDKiyAtjYapQ.png)

#### ğŸ‘‰ ç¬¬7æ­¥ - éƒ¨ç½²åº”ç”¨ç¨‹åº

è¦åœ¨GKEé›†ç¾¤ä¸Šéƒ¨ç½²å’Œç®¡ç†åº”ç”¨ç¨‹åºï¼Œæ‚¨å¿…é¡»ä¸Kubernetesé›†ç¾¤ç®¡ç†ç³»ç»Ÿè¿›è¡Œé€šä¿¡ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²åº”ç”¨ç¨‹åºï¼š

```
kubectl create deployment insurance-app --image=gcr.io/${PROJECT_ID}/insurance-app:v1
```

![é€šè¿‡ kubectl åˆ›å»ºéƒ¨ç½²è¿”å›çš„è¾“å‡º](https://cdn-images-1.medium.com/max/3836/1\*p0\_A6PZnfYJ4mnttM7lzzA.png)

#### ğŸ‘‰ ç¬¬ 8 æ­¥â€” å°†æ‚¨çš„åº”ç”¨ç¨‹åºæš´éœ²ç»™äº’è”ç½‘

é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ GKE ä¸Šè¿è¡Œçš„å®¹å™¨æ— æ³•ä»äº’è”ç½‘è®¿é—®ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å¤–éƒ¨ IP åœ°å€ã€‚æ‰§è¡Œä»¥ä¸‹ä»£ç å°†åº”ç”¨ç¨‹åºæš´éœ²ç»™äº’è”ç½‘ï¼š

```
kubectl expose deployment insurance-app --type=LoadBalancer --port 80 --target-port 8080
```

#### ğŸ‘‰ ç¬¬ 9 æ­¥â€” æ£€æŸ¥æœåŠ¡

æ‰§è¡Œä»¥ä¸‹ä»£ç ä»¥è·å–æœåŠ¡çš„çŠ¶æ€ã€‚**EXTERNAL-IP** æ˜¯æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨çš„ Web åœ°å€ï¼Œç”¨äºæŸ¥çœ‹å‘å¸ƒçš„åº”ç”¨ç¨‹åºã€‚

```
kubectl get service
```

![Cloud Shell â†’ kubectl get service](https://cdn-images-1.medium.com/max/3832/1\*aRWl7frtmvPYaYjAoloFgQ.png)

ğŸ‘‰ ç¬¬ 10 æ­¥â€” åœ¨ [http://34.71.77.61:8080](http://34.71.77.61:8080) ä¸ŠæŸ¥çœ‹åº”ç”¨ç¨‹åºè¿è¡Œæƒ…å†µ

![æœ€ç»ˆåº”ç”¨ç¨‹åºä¸Šä¼ è‡³ http://34.71.77.61:8080](https://cdn-images-1.medium.com/max/3838/1\*bKuZiYSPdE8T5SLKXx5B\_Q.png)

**æ³¨æ„ï¼š** åœ¨å‘å¸ƒæœ¬æ•…äº‹æ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†ä»å…¬å…±åœ°å€ä¸­ç§»é™¤ï¼Œä»¥é™åˆ¶èµ„æºæ¶ˆè€—ã€‚

[æœ¬æ•™ç¨‹çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/pycaret-deployment-google)

[Microsoft Azure éƒ¨ç½²çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/pycaret-azure-deployment)

[Heroku éƒ¨ç½²çš„ GitHub ä»“åº“é“¾æ¥](https://www.github.com/pycaret/deployment-heroku)

### PyCaret 1.0.1 å³å°†å‘å¸ƒï¼

æˆ‘ä»¬æ”¶åˆ°äº†ç¤¾åŒºçš„å¤§åŠ›æ”¯æŒå’Œåé¦ˆã€‚æˆ‘ä»¬æ­£åœ¨ç§¯ææ”¹è¿› PyCaretï¼Œå¹¶ä¸ºä¸‹ä¸€ä¸ªç‰ˆæœ¬åšå‡†å¤‡ã€‚**PyCaret 1.0.1 å°†æ›´åŠ å¼ºå¤§å’Œä¼˜ç§€**ã€‚å¦‚æœæ‚¨æƒ³åˆ†äº«æ‚¨çš„åé¦ˆå¹¶å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæ‚¨å¯ä»¥åœ¨ç½‘ç«™ä¸Š [å¡«å†™æ­¤è¡¨æ ¼](https://www.pycaret.org/feedback) æˆ–åœ¨æˆ‘ä»¬çš„ [GitHub](https://www.github.com/pycaret/) æˆ– [LinkedIn](https://www.linkedin.com/company/pycaret/) é¡µé¢ä¸Šç•™è¨€ã€‚

å…³æ³¨æˆ‘ä»¬çš„ [LinkedIn](https://www.linkedin.com/company/pycaret/) å¹¶è®¢é˜…æˆ‘ä»¬çš„ [YouTube](https://www.youtube.com/channel/UCxA1YTYJ9BEeo50lxyI\_B3g) é¢‘é“ï¼Œäº†è§£æ›´å¤šå…³äº PyCaret çš„ä¿¡æ¯ã€‚

### æƒ³äº†è§£ç‰¹å®šæ¨¡å—å—ï¼Ÿ

æˆªè‡³é¦–æ¬¡å‘å¸ƒçš„ 1.0.0 ç‰ˆæœ¬ï¼ŒPyCaret æä¾›ä»¥ä¸‹å¯ç”¨æ¨¡å—ã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹ Python ä¸­çš„æ–‡æ¡£å’Œç¤ºä¾‹ã€‚

[åˆ†ç±»](https://www.pycaret.org/classification) [å›å½’](https://www.pycaret.org/regression) [èšç±»](https://www.pycaret.org/clustering) [å¼‚å¸¸æ£€æµ‹](https://www.pycaret.org/anomaly-detection) [è‡ªç„¶è¯­è¨€å¤„ç†](https://www.pycaret.org/nlp) [å…³è”è§„åˆ™æŒ–æ˜](https://www.pycaret.org/association-rules)

### è¿˜å¯æŸ¥çœ‹ï¼š

PyCaret åœ¨ Notebook ä¸­çš„å…¥é—¨æ•™ç¨‹ï¼š

[èšç±»](https://www.pycaret.org/clu101) [å¼‚å¸¸æ£€æµ‹](https://www.pycaret.org/anom101) [è‡ªç„¶è¯­è¨€å¤„ç†](https://www.pycaret.org/nlp101) [å…³è”è§„åˆ™æŒ–æ˜](https://www.pycaret.org/arul101) [å›å½’](https://www.pycaret.org/reg101) [åˆ†ç±»](https://www.pycaret.org/clf101)

### æƒ³è¦è´¡çŒ®å—ï¼Ÿ

PyCaret æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚æ¬¢è¿æ¯ä¸ªäººè´¡çŒ®ã€‚å¦‚æœæ‚¨æƒ³è´¡çŒ®ï¼Œè¯·éšæ—¶å¤„ç† [å¼€æ”¾é—®é¢˜](https://github.com/pycaret/pycaret/issues)ã€‚æˆ‘ä»¬æ¥å—å¸¦æœ‰å•å…ƒæµ‹è¯•çš„æ‹‰å–è¯·æ±‚ï¼Œåˆ†æ”¯ä¸º dev-1.0.1ã€‚

å¦‚æœæ‚¨å–œæ¬¢ PyCaretï¼Œè¯·åœ¨æˆ‘ä»¬çš„ [GitHub ä»“åº“](https://www.github.com/pycaret/pycaret) ä¸Šç»™æˆ‘ä»¬ â­ï¸ã€‚

Mediumï¼š[https://medium.com/@moez\_62905/](https://medium.com/@moez\_62905/machine-learning-in-power-bi-using-pycaret-34307f09394a)

LinkedInï¼š[https://www.linkedin.com/in/profile-moez/](https://www.linkedin.com/in/profile-moez/)

Twitterï¼š[https://twitter.com/moezpycaretorg1](https://twitter.com/moezpycaretorg1)